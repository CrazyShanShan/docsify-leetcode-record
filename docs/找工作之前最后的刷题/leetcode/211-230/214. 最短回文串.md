## [214. 最短回文串](https://leetcode-cn.com/problems/shortest-palindrome/)

**analyse:**

```
给你一个字符串，然后让你补充一段，使得这一整个字符串为回文串，且长度最短。
那么问题就可以转化为，寻找最长的回文串前缀。
这个做法非常的巧妙，将中间放一个没有出现过的字符，然后将整个原串对称过去。
目标： 在原串中找到一个最长的前缀，且是回文串。
回文串反转之后还是回文串，前缀和后缀相同，即是kmp中next的定义。

```

**code:**

```java
class Solution {
    public String shortestPalindrome(String s) {
        int n = s.length();
        StringBuilder sb = new StringBuilder(s).reverse();
        String str = " " + s + "#" + sb;
        int[] next = new int[n * 2 + 2];
        // 求next数组
        for (int i = 2, j = 0; i <= n * 2 + 1; i++) {
            while (j != 0 && str.charAt(i) != str.charAt(j + 1)) j = next[j];
            if (str.charAt(i) == str.charAt(j + 1)) j++;
            next[i] = j;
        }
        int len = next[2 * n + 1];
        String left = new StringBuilder(str.substring(len + 1, n + 1)).reverse().toString();
        return left + s;
    }
}
```



